From f39ca105749c5c407c8e0ff6d53ed0a1fee12470 Mon Sep 17 00:00:00 2001
From: Dagobert Michelsen <dam@opencsw.org>
Date: Fri, 6 Nov 2009 16:33:53 +0100
Subject: [PATCH] Adjust Makefile

---
 Makefile |   20 ++++++++++++--------
 1 files changed, 12 insertions(+), 8 deletions(-)

diff --git a/Makefile b/Makefile
index 90a4b47..3c549ce 100644
--- a/Makefile
+++ b/Makefile
@@ -1,26 +1,28 @@
 # $Id: Makefile,v 1.45 2008/04/08 17:39:08 tommy Exp $
 
 #CFLAGS=-g -I.
-CFLAGS=-O2 -Wall -Wstrict-prototypes -Wuninitialized
+# CFLAGS=-O2 -Wall -Wstrict-prototypes -Wuninitialized
 
 # uncomment for any OS other than Cygwin
 BALANCE=balance
 ROOT=root
 INSTALL=install
-BINDIR=/usr/sbin
-MANDIR=${BINDIR}/../man/man1
+# BINDIR=/usr/sbin
+# MANDIR=${BINDIR}/../man/man1
 
 # uncomment for Solaris
-# LIBRARIES=-lsocket -lnsl
-# INSTALL=/usr/ucb/install
+LIBRARIES=-lsocket -lnsl
+INSTALL=/usr/ucb/install
 # BINDIR=/usr/local/libexec
+BINDIR=/opt/csw/sbin
+MANDIR=/opt/csw/share/man/man1
 
 # uncomment for Cygwin
 # LIBRARIES=-L/usr/local/lib -lcygipc
 # BALANCE=balance.exe
 # ROOT=Administrators
 
-CC=gcc
+# CC=gcc
 RELEASE=3.42
 
 all: balance 
@@ -48,9 +50,11 @@ clean:
 	rm -f $(BALANCE) *.o balance.ps balance.pdf
 
 install:
-	$(INSTALL) -o $(ROOT) -g $(ROOT) -m 755  $(BALANCE) \
+	$(INSTALL) -d $(DESTDIR)$(BINDIR)
+	$(INSTALL) -m 755  $(BALANCE) \
 		$(DESTDIR)$(BINDIR)/$(BALANCE) 
-	$(INSTALL) -o $(ROOT) -g $(ROOT) -m 755  balance.1 \
+	$(INSTALL) -d $(DESTDIR)$(MANDIR)
+	$(INSTALL) -m 755  balance.1 \
 		$(DESTDIR)$(MANDIR) 
 	mkdir -p $(DESTDIR)/var/run/balance
 	chmod 1777 $(DESTDIR)/var/run/balance
-- 
1.6.5.1

