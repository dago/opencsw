From 9be2ae854b16feecf9aed9cf908faf30e33b0edf Mon Sep 17 00:00:00 2001
From: Maciej Blizinski <maciej@opencsw.org>
Date: Fri, 4 Mar 2011 00:30:29 +0100
Subject: [PATCH] Remove surplus "flags!" output on SPARC

---
 src/apprentice.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

diff --git a/src/apprentice.c b/src/apprentice.c
index 49126ac..15d34de 100644
--- a/src/apprentice.c
+++ b/src/apprentice.c
@@ -2461,8 +2461,10 @@ bs1(struct magic *m)
 	m->in_offset = swap4((uint32_t)m->in_offset);
 	m->lineno = swap4((uint32_t)m->lineno);
 	if (IS_STRING(m->type)) {
+    /* This printf causes surplus output on sparc machines.
 		if (m->type == FILE_PSTRING)
 			printf("flags! %d\n", m->str_flags);
+    */
 		m->str_range = swap4(m->str_range);
 		m->str_flags = swap4(m->str_flags);
 	}
-- 
1.7.3.2

