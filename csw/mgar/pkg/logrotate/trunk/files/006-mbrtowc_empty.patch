--- logrotate-3.8.0/config.c	Tue Jun 21 08:12:02 2011
+++ logrotate-3.8.0-solfix/config.c	Mon Jun 27 20:57:53 2011
@@ -166,7 +166,7 @@
 
 	chptr = start;
 
-	while( (len = mbrtowc(&pwc, chptr, strlen(chptr), NULL)) != 0 ) {
+        while( (len = mbrtowc(&pwc, chptr, strlen(chptr), NULL)) != 0 && strlen(chptr) != 0) {
 		if( len == (size_t)(-1) || len == (size_t)(-2) || !iswprint(pwc) || iswblank(pwc) ) {
 		    message(MESS_ERROR, "%s:%d bad %s path %s\n",
 			    configFile, lineNum, key, start);
