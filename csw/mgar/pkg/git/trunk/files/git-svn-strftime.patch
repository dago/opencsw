--- git-1.6.1.3/git-svn.perl.orig	2009-02-19 22:03:27.303694837 +0100
+++ git-1.6.1.3/git-svn.perl	2009-02-19 22:05:09.370651606 +0100
@@ -41,6 +41,8 @@
 use File::Path qw/mkpath/;
 use Getopt::Long qw/:config gnu_getopt no_ignore_case auto_abbrev/;
 use IPC::Open3;
+use POSIX;
+use Time::Local;
 use Git;
 
 BEGIN {
@@ -4525,7 +4527,18 @@
 }
 
 sub format_svn_date {
-	return strftime("%Y-%m-%d %H:%M:%S %z (%a, %d %b %Y)", localtime(shift));
+        my $timestr = strftime("%Y-%m-%d %H:%M:%S %z (%a, %d %b %Y)", localtime(shift));
+
+	# for systems without %z (solaris 8, 9, etc)
+	if ($timestr =~ /%z/) {
+	    my $localt = time;
+	    my $gm = Time::Local::timelocal( gmtime $localt );
+	    my $sign = qw( + + - )[ $localt <=> $gm ];
+	    my $calc = sprintf "%s%02d%02d", $sign, (gmtime abs( $localt - $gm ))[2,1];
+	    $timestr =~ s/%z/$calc/;
+	}
+
+	return $timestr;
 }
 
 sub parse_git_date {
