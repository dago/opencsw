From 0bad1a848932b074637ea76251f3da1a655ff3ea Mon Sep 17 00:00:00 2001
From: Dagobert Michelsen <dam@opencsw.org>
Date: Thu, 25 Nov 2010 12:42:22 +0100
Subject: [PATCH] Honour HAVE_STDINT_H

---
 lib/vfs/mc-vfs/direntry.c |    6 ++++++
 lib/vfs/mc-vfs/fish.c     |    6 ++++++
 lib/vfs/mc-vfs/ftpfs.c    |    6 ++++++
 3 files changed, 18 insertions(+), 0 deletions(-)

diff --git a/lib/vfs/mc-vfs/direntry.c b/lib/vfs/mc-vfs/direntry.c
index 055b1e7..311c715 100644
--- a/lib/vfs/mc-vfs/direntry.c
+++ b/lib/vfs/mc-vfs/direntry.c
@@ -35,7 +35,13 @@
 				/* includes fcntl.h see IEEE Std 1003.1-2008 */
 #include <time.h>
 #include <sys/time.h>		/* gettimeofday() */
+#ifdef HAVE_STDINT_H_WITH_UINTMAX
 #include <stdint.h>             /* uintmax_t */
+#else
+#ifdef HAVE_INTTYPES_H_WITH_UINTMAX
+#include <inttypes.h>           /* uintmax_t */
+#endif
+#endif
 
 #include "lib/global.h"
 
diff --git a/lib/vfs/mc-vfs/fish.c b/lib/vfs/mc-vfs/fish.c
index 6502549..e9d0406 100644
--- a/lib/vfs/mc-vfs/fish.c
+++ b/lib/vfs/mc-vfs/fish.c
@@ -54,7 +54,13 @@
 #include <sys/time.h>           /* gettimeofday() */
 #include <stdlib.h>
 #include <string.h>
+#ifdef HAVE_STDINT_H_WITH_UINTMAX
 #include <stdint.h>             /* uintmax_t */
+#else
+#ifdef HAVE_INTTYPES_H_WITH_UINTMAX
+#include <inttypes.h>           /* uintmax_t */
+#endif
+#endif
 
 #include "lib/global.h"
 #include "lib/fs.h"
diff --git a/lib/vfs/mc-vfs/ftpfs.c b/lib/vfs/mc-vfs/ftpfs.c
index 7c35749..d607dd1 100644
--- a/lib/vfs/mc-vfs/ftpfs.c
+++ b/lib/vfs/mc-vfs/ftpfs.c
@@ -84,7 +84,13 @@ What to do with this?
 #include <ctype.h>
 #include <fcntl.h>
 #include <sys/time.h>           /* gettimeofday() */
+#ifdef HAVE_STDINT_H_WITH_UINTMAX
 #include <stdint.h>             /* uintmax_t */
+#else
+#ifdef HAVE_INTTYPES_H_WITH_UINTMAX
+#include <inttypes.h>           /* uintmax_t */
+#endif
+#endif
 
 #include "lib/global.h"
 
-- 
1.7.3

