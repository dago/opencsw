From 8a8a681ff57e4ca7d545c2350a70461e24e96355 Mon Sep 17 00:00:00 2001
From: Jan Holzhueter <jh@opencsw.org>
Date: Mon, 18 Jul 2011 12:03:36 +0200
Subject: [PATCH] change-linker-flags

---
 configure |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/configure b/configure
index c9eedaf..68793ac 100755
--- a/configure
+++ b/configure
@@ -1688,7 +1688,7 @@ enable swscale
 enable swscale_alpha
 
 # build settings
-SHFLAGS='-shared -Wl,-soname,$$(@F)'
+SHFLAGS='-G -Wl,-h,$$(@F)'
 FFSERVERLDFLAGS=-Wl,-E
 LIBPREF="lib"
 LIBSUF=".a"
@@ -2396,7 +2396,7 @@ case $target_os in
         ;;
     sunos)
         FFSERVERLDFLAGS=""
-        SHFLAGS='-shared -Wl,-h,$$(@F)'
+        SHFLAGS='-G -Wl,-h,$$(@F)'
         enabled x86 && SHFLAGS="-mimpure-text $SHFLAGS"
         network_extralibs="-lsocket -lnsl"
         add_cppflags -D__EXTENSIONS__
-- 
1.7.6

