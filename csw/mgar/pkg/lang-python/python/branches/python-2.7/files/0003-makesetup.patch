From 337c51f7a5c0f68561d415aefc7ba889a3897a13 Mon Sep 17 00:00:00 2001
From: Peter Felecan <pfelecan@opencsw.org>
Date: Mon, 15 Jul 2013 13:49:06 +0200
Subject: [PATCH] makesetup

based on makesetup from 2.6
---
 Modules/makesetup | 9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

diff --git a/Modules/makesetup b/Modules/makesetup
index 8862c36..c28e3a8 100755
--- a/Modules/makesetup
+++ b/Modules/makesetup
@@ -214,10 +214,15 @@ sed -e 's/[ 	]*#.*//' -e '/^[ 	]*$/d' |
 			glmodule.c) ;;
 			/*) ;;
 			\$*) ;;
-			*) src='$(srcdir)/'"$srcdir/$src";;
+			*)  src='$(srcdir)/'"$srcdir/$src";;
 			esac
 			case $doconfig in
-			no)	cc="$cc \$(CCSHARED) \$(CFLAGS) \$(CPPFLAGS)";;
+			no)	case $src in
+                *bsddb.*)
+                    cc="$cc -I\$(DBINC) \$(CCSHARED) \$(CFLAGS) \$(CPPFLAGS)";;
+                *)
+                    cc="$cc  \$(CCSHARED) \$(CFLAGS) \$(CPPFLAGS)";;
+                esac;;
 			*)
 				cc="$cc \$(PY_CFLAGS)";;
 			esac
-- 
1.8.3.1

