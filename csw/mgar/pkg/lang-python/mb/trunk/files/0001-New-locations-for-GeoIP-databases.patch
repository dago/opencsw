From 2f8223de7837825fb1838686b75a46796b85e15c Mon Sep 17 00:00:00 2001
From: Dagobert Michelsen <dam@opencsw.org>
Date: Fri, 20 Dec 2013 13:51:33 +0100
Subject: [PATCH] New locations for GeoIP databases

---
 mb/mb/geoip.py | 16 ++++------------
 1 file changed, 4 insertions(+), 12 deletions(-)

diff --git a/mb/mb/geoip.py b/mb/mb/geoip.py
index bcfda33..7b52e2f 100644
--- a/mb/mb/geoip.py
+++ b/mb/mb/geoip.py
@@ -4,23 +4,15 @@ from subprocess import Popen, PIPE
 import errno
 
 # try different databases and different locations
-databases = ['/var/lib/GeoIP/GeoLiteCity.dat.updated', 
-             '/var/lib/GeoIP/GeoLiteCity.dat', 
-             '/var/lib/GeoIP/GeoIP.dat.updated',
-             '/var/lib/GeoIP/GeoIP.dat',
-             '/usr/share/GeoIP/GeoLiteCity.dat.updated', 
-             '/usr/share/GeoIP/GeoLiteCity.dat', 
-             '/usr/share/GeoIP/GeoIP.dat.updated',
-             '/usr/share/GeoIP/GeoIP.dat',
+databases = ['/opt/csw/share/GeoIP/GeoIPCity.dat',
+             '/opt/csw/share/GeoIP/GeoIP.dat',
              ]
 for i in databases:
     if os.path.exists(i):
         database = i
         break
-databases6 = ['/var/lib/GeoIP/GeoIPv6.dat.updated', 
-             '/var/lib/GeoIP/GeoIPv6.dat', 
-             '/usr/share/GeoIP/GeoIPv6.dat.updated', 
-             '/usr/share/GeoIP/GeoIPv6.dat', 
+databases6 = ['/opt/csw/share/GeoIP/GeoIPCityv6.dat',
+              '/opt/csw/share/GeoIP/GeoIPv6.dat',
              ]
 for i in databases6:
     if os.path.exists(i):
-- 
1.8.3.4

