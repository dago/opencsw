diff --speed-large-files --minimal -Nru clearsilver-0.10.1.orig/dso/Makefile clearsilver-0.10.1/dso/Makefile
--- clearsilver-0.10.1.orig/dso/Makefile	2005-08-31 12:14:16.231706000 -0400
+++ clearsilver-0.10.1/dso/Makefile	2005-08-31 12:13:53.282191000 -0400
@@ -17,7 +17,7 @@
 all: $(TARGETS)
 
 $(NEO_SO): $(NEO_STATIC_LIBS) $(DEP_LIBS) Makefile 
-	 /usr/bin/ld  -rpath ../libs -shared -o libneo.so -whole-archive ../libs/libneo_cgi.a ../libs/libneo_cs.a ../libs/libneo_utl.a -no-whole-archive $(LIBS)
+	 ld  -rpath ../libs -shared -o libneo.so -whole-archive ../libs/libneo_cgi.a ../libs/libneo_cs.a ../libs/libneo_utl.a -no-whole-archive $(LIBS)
 
 #	$(LDSHARED) -o $@ $(LDFLAGS) -Wl,-whole-archive $(DLIBS)
 
@@ -26,7 +26,7 @@
 	$(INSTALL) $(TARGETS) $(DESTDIR)$(PYTHON_SITE)
 
 dsotest: dsotest.c $(NEO_SO)
-	gcc -o dsotest dsotest.c -lneo -L. -I..
+	$(CC) -o dsotest dsotest.c -lneo -L. -I..
 
 clean:
 	$(RM) *.o 
diff --speed-large-files --minimal -Nru clearsilver-0.10.1.orig/rules.mk.in clearsilver-0.10.1/rules.mk.in
--- clearsilver-0.10.1.orig/rules.mk.in	2005-08-31 12:14:09.797720000 -0400
+++ clearsilver-0.10.1/rules.mk.in	2005-08-31 12:14:02.411904000 -0400
@@ -73,13 +73,13 @@
 PERL	   = @PERL@
 RUBY       = @RUBY@
 
-CFLAGS     = @CFLAGS@ -Wall -I$(NEOTONIC_ROOT) @CPPFLAGS@
-CPPFLAGS   = -I$(NEOTONIC_ROOT) -fPIC @CPPFLAGS@
+CFLAGS     = @CFLAGS@ -I$(NEOTONIC_ROOT) @CPPFLAGS@
+CPPFLAGS   = -I$(NEOTONIC_ROOT) -xcode=pic32 @CPPFLAGS@
 OUTPUT_OPTION = -o $@
 LD         = $(CC) -o
 LDFLAGS    = -L$(LIB_DIR) @LDFLAGS@
-LDSHARED   = $(CC) -shared -fPIC
-CPPLDSHARED   = $(CPP) -shared -fPIC
+LDSHARED   = $(CC) -G -xcode=pic32
+CPPLDSHARED   = $(CPP) -G -xcode=pic32
 AR         = @AR@ cr
 RANLIB     = @RANLIB@
 DEP_LIBS   = $(DLIBS:-l%=$(LIB_DIR)lib%.a)
@@ -91,11 +91,6 @@
 EXTRA_UTL_OBJS = @EXTRA_UTL_OBJS@
 EXTRA_UTL_SRC  = @EXTRA_UTL_SRC@
 
-## I don't really feel like writing a configure thing for this yet
-ifeq ($(OSNAME),SunOS)
-LDSHARED   = ld -G -fPIC
-endif
-
 ## --------------win32 options
 
 ## ifeq ($(OSTYPE),WindowsNT)
@@ -142,7 +137,7 @@
 	@rm -f Makefile.depends
 	@touch Makefile.depends
 	@for II in `find . -maxdepth 1 -name "*.c" -print`; do \
-		gcc -M -MG ${CFLAGS} $$II >> Makefile.depends; \
+        $(CC) -xM ${CFLAGS} $$II >> Makefile.depends; \
 	done;
 	@echo "** (done) "
 
