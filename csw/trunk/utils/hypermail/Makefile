GARNAME = hypermail
GARVERSION = 2.2.0
CATEGORIES = utils

DESCRIPTION = mail archive tool
define BLURB
  Hypermail is a program that takes a file of mail messages in UNIX mailbox
  format and generates a set of cross-referenced HTML documents. Each file
  that is created represents a separate message in the mail archive and
  contains links to other articles, so that the entire archive can be browsed
  in a number of ways by following links. Archives generated by Hypermail can
  be incrementally updated, and Hypermail is set by default to only update
  archives when changes are detected.
endef

MASTER_SITES = $(SF_MIRROR)/$(GARNAME)/
DISTFILES    = $(GARNAME)-$(GARVERSION).tar.gz
DISTFILES   += CSWhypermail.gspec CSWhypermail.prototype CSWhypermail.depend

# configure cancels out env LDFLAGS by default
PATCHFILES += ldflag.diff
# force Makefiles to honor DESTDIR
PATCHFILES += install.diff

CONFIGURE_ARGS  = $(DIRPATHS)
CONFIGURE_ARGS += --with-gdbm=$(prefix)
CONFIGURE_ARGS += --with-cgidir=$(docdir)/$(GARNAME)/cgi-bin
CONFIGURE_ARGS += --with-htmldir=$(docdir)/$(GARNAME)
CONFIGURE_ARGS += --enable-libfnv

# No test target
ENABLE_TEST = 0

include ../category.mk
