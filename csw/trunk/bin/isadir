#!/usr/bin/perl -lw
#
# $Id$
# $URL$
#
# isadir - print the appropriate ISA subdirectory given a chosen
#          isa (E.g. isaname v9b -> sparcv9+vis2)
#

my $optarch = shift @ARGV;
chomp($optarch = `uname -p`) unless $optarch;

my $isadir;
if ($optarch eq 'sparc') {
    my $isa  = shift or exit 0;

    my $visid = substr($isa, length($isa) - 1);
    my $vis = ($isa =~ /^v9/)
            ? (($visid eq 'a') ? "+vis" : ($visid eq 'b') ? "+vis2" : "")
            : (($visid eq 'a' or $visid eq 'b') ? "+vis" : "");

    $isa = substr($isa,0,length($isa) - 1) if $vis;
    $isadir = "$optarch$isa$vis";
}
else {
    $isadir = $optarch;
}
print $isadir;
