#!/usr/bin/perl -lw
#
# $Id: isadir 1084 2005-04-15 16:31:39Z comand $
# $URL: http://cryptic.sfbay:5957/svn/csw/bin/isadir $
#
# isadir - print the appropriate ISA subdirectory given a chosen
#          isa (E.g. isaname v9b -> sparcv9+vis2)
#

chomp(my $arch = `uname -p`);
exit 0 unless $arch eq "sparc";

my $isa  = shift or exit 0;

my $visid = substr($isa, length($isa) - 1);
my $vis = ($isa =~ /^v9/)
        ? (($visid eq 'a') ? "+vis" : ($visid eq 'b') ? "+vis2" : "")
        : (($visid eq 'a' or $visid eq 'b') ? "+vis" : "");

$isa = substr($isa,0,length($isa) - 1) if $vis;

print "$arch$isa$vis";
